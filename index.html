<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AOSE | Timeless Elegance</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <style>
        /* --- THEME CONFIGURATION --- */
        :root {
            --green: #0f3d2e; 
            --gold: #c6a664;
            --cream: #f4f1ea;
            --black: #111111;
            --white: #ffffff;
            --gray: #f9f9f9;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Montserrat', sans-serif; 
            background-color: var(--white); 
            color: var(--black);
            overflow-x: hidden;
        }

        h1, h2, h3, h4 { font-family: 'Oswald', sans-serif; text-transform: uppercase; letter-spacing: 1px; }

        /* --- NAVIGATION --- */
        nav {
            background: var(--white);
            padding: 15px 5%;
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 2px 15px rgba(0,0,0,0.05);
        }
        .logo img { height: 50px; }
        .nav-icons i { font-size: 20px; margin-left: 20px; cursor: pointer; transition: 0.3s; color: var(--green); }
        .nav-icons i:hover { color: var(--gold); }
        .cart-icon { position: relative; }
        .cart-badge {
            position: absolute; top: -8px; right: -8px;
            background: var(--gold); color: var(--black);
            font-size: 10px; font-weight: bold;
            padding: 2px 6px; border-radius: 50%;
        }

        /* --- HERO SECTION --- */
        .hero {
            height: 80vh;
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5)), url('images/hero.jpg');
            background-size: cover; background-position: center;
            display: flex; align-items: center; justify-content: center; text-align: center;
        }
        .hero-content h1 { font-size: 3.5rem; color: var(--white); margin-bottom: 10px; }
        .hero-content p { color: var(--gold); font-size: 1.2rem; letter-spacing: 3px; margin-bottom: 30px; }
        .btn {
            padding: 12px 35px; background: var(--gold); color: var(--black);
            text-decoration: none; font-weight: 600; text-transform: uppercase;
            border: none; cursor: pointer; transition: 0.3s;
        }
        .btn:hover { background: var(--white); }

        /* --- FILTERS & SEARCH --- */
        .controls { padding: 30px 5%; display: flex; justify-content: space-between; flex-wrap: wrap; gap: 20px; background: var(--cream); }
        .search-box { position: relative; width: 300px; }
        .search-box input { width: 100%; padding: 10px 40px 10px 15px; border: 1px solid #ddd; outline: none; }
        .search-box i { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #888; }
        .filter-btn { padding: 8px 20px; background: transparent; border: 1px solid var(--green); color: var(--green); cursor: pointer; margin-right: 10px; }
        .filter-btn.active, .filter-btn:hover { background: var(--green); color: var(--white); }

        /* --- PRODUCT GRID --- */
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; padding: 40px 5%; }
        .product-card { background: var(--white); transition: 0.3s; border: 1px solid #eee; position: relative; }
        .product-card:hover { box-shadow: 0 10px 30px rgba(0,0,0,0.1); transform: translateY(-5px); }
        .p-img-container { height: 350px; overflow: hidden; position: relative; }
        .p-img-container img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .product-card:hover .p-img-container img { transform: scale(1.05); }
        .p-details { padding: 20px; text-align: center; }
        .p-title { font-size: 1rem; margin-bottom: 5px; font-weight: 600; }
        .p-price { color: var(--green); font-weight: 700; font-size: 1.1rem; }
        .add-btn { width: 100%; padding: 10px; background: var(--black); color: white; border: none; margin-top: 10px; cursor: pointer; text-transform: uppercase; font-size: 12px; letter-spacing: 1px; }
        .add-btn:hover { background: var(--gold); color: black; }

        /* --- CART SIDEBAR --- */
        .sidebar {
            position: fixed; top: 0; right: -400px; width: 380px; height: 100%;
            background: var(--white); box-shadow: -5px 0 30px rgba(0,0,0,0.2);
            z-index: 2000; transition: 0.4s; display: flex; flex-direction: column;
        }
        .sidebar.active { right: 0; }
        .sidebar-header { padding: 20px; background: var(--green); color: white; display: flex; justify-content: space-between; align-items: center; }
        .cart-items { flex: 1; overflow-y: auto; padding: 20px; }
        .cart-item { display: flex; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .cart-item img { width: 60px; height: 80px; object-fit: cover; margin-right: 15px; }
        .cart-footer { padding: 20px; border-top: 1px solid #ddd; background: var(--cream); }
        .total-row { display: flex; justify-content: space-between; font-weight: bold; font-size: 1.2rem; margin-bottom: 15px; }

        /* --- CHECKOUT MODAL --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 3000; justify-content: center; align-items: center;
        }
        .modal-content {
            background: white; width: 90%; max-width: 600px; padding: 30px;
            border-radius: 4px; max-height: 90vh; overflow-y: auto;
        }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 12px; margin-bottom: 5px; font-weight: bold; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 10px; border: 1px solid #ddd; outline: none; }
        
        /* QR SECTION */
        .payment-section { text-align: center; background: #f0fdf4; padding: 20px; margin-top: 20px; border: 1px dashed var(--green); display: none; }
        #qrcode { margin: 15px auto; display: flex; justify-content: center; }
        
        /* FOOTER */
        footer { background: var(--black); color: white; padding: 50px 5%; text-align: center; }
        .social-icons { margin: 20px 0; }
        .social-icons a { color: white; margin: 0 15px; font-size: 24px; transition: 0.3s; }
        .social-icons a:hover { color: var(--gold); }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .sidebar { width: 100%; right: -100%; }
            .hero-content h1 { font-size: 2.5rem; }
            .controls { flex-direction: column; }
            .search-box { width: 100%; }
        }
    </style>
</head>
<body>

    <nav>
        <div class="logo">
            <img src="images/logo.png" alt="AOSE">
        </div>
        <div class="nav-icons">
            <i class="fas fa-search" onclick="document.querySelector('.search-box input').focus()"></i>
            <span class="cart-icon" onclick="toggleCart()">
                <i class="fas fa-shopping-bag"></i>
                <span class="cart-badge" id="cart-count">0</span>
            </span>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-content">
            <h1>Timeless Elegance</h1>
            <p>Modern Legacy</p>
            <a href="#shop" class="btn">Shop Collection</a>
        </div>
    </header>

    <section class="controls" id="shop">
        <div class="categories">
            <button class="filter-btn active" onclick="filterProducts('all')">All</button>
            <button class="filter-btn" onclick="filterProducts('hoodies')">Hoodies</button>
            <button class="filter-btn" onclick="filterProducts('tshirts')">T-Shirts</button>
            <button class="filter-btn" onclick="filterProducts('sweatshirts')">Sweatshirts</button>
        </div>
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search products..." onkeyup="searchProducts()">
            <i class="fas fa-search"></i>
        </div>
    </section>

    <section class="product-grid" id="product-container">
        </section>

    <div class="sidebar" id="cart-sidebar">
        <div class="sidebar-header">
            <h3>Your Bag</h3>
            <i class="fas fa-times" onclick="toggleCart()" style="cursor:pointer"></i>
        </div>
        <div class="cart-items" id="cart-items-container">
            </div>
        <div class="cart-footer">
            <div class="total-row">
                <span>Total</span>
                <span>₹<span id="cart-total">0</span></span>
            </div>
            <button class="btn" style="width:100%; background:var(--black); color:white;" onclick="openCheckout()">Proceed to Checkout</button>
        </div>
    </div>

    <div class="modal" id="checkout-modal">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
                <h2>Checkout</h2>
                <i class="fas fa-times" onclick="closeCheckout()" style="cursor:pointer; font-size:24px;"></i>
            </div>

            <div id="checkout-step-1">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="cust-name" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label>Phone Number</label>
                    <input type="tel" id="cust-phone" placeholder="91XXXXXXXXXX">
                </div>
                <div class="form-group">
                    <label>Shipping Address</label>
                    <textarea id="cust-address" rows="3" placeholder="House No, Street, City, Pincode"></textarea>
                </div>
                <div class="form-group">
                    <label>Delivery Preference</label>
                    <select id="cust-location">
                        <option value="Home Delivery">Home Delivery</option>
                        <option value="Store Pickup">Store Pickup</option>
                    </select>
                </div>
                <button class="btn" style="width:100%" onclick="generatePayment()">Proceed to Payment</button>
            </div>

            <div id="checkout-step-2" class="payment-section">
                <h3>Scan to Pay</h3>
                <p>Total Amount: <strong>₹<span id="pay-amount"></span></strong></p>
                <div id="qrcode"></div> <p style="font-size:12px; margin-top:10px; color:#666;">UPI ID: 7887731818@ybl</p>
                <div style="margin-top:20px; border-top:1px solid #ddd; padding-top:20px;">
                    <p style="font-size:13px; color:red; margin-bottom:10px;">*After payment, click below to send order details via WhatsApp.</p>
                    <button class="btn" style="width:100%; background:#25d366; color:white;" onclick="finalizeOrder()">
                        <i class="fab fa-whatsapp"></i> Confirm & Send Order
                    </button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <img src="images/logo.png" style="height:60px; filter: brightness(0) invert(1);">
        <div class="social-icons">
            <a href="https://instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://facebook.com" target="_blank"><i class="fab fa-facebook-f"></i></a>
            <a href="https://wa.me/917887731818" target="_blank"><i class="fab fa-whatsapp"></i></a>
        </div>
        <p>&copy; 2025 AOSE CLOTHING. All Rights Reserved.</p>
    </footer>

    <script>
        // --- 1. CONFIGURATION ---
        const UPI_ID = "7887731818@ybl";
        const PHONE_NUMBER = "917887731818"; 

        // --- 2. PRODUCT DATABASE (Add unlimited products here) ---
        // Copy paste the block inside {} to add new items
        const products = [
            {
                id: 1,
                name: "AOSE Signature Hoodie",
                category: "hoodies",
                price: 2499,
                image: "images/product1.jpg" // Ensure this file exists
            },
            {
                id: 2,
                name: "Legacy Crewneck",
                category: "sweatshirts",
                price: 1899,
                image: "images/product2.jpg"
            },
            {
                id: 3,
                name: "Urban Drop Tee",
                category: "tshirts",
                price: 999,
                image: "images/product3.jpg"
            },
             {
                id: 4,
                name: "Essential Beige Hoodie",
                category: "hoodies",
                price: 2599,
                image: "images/hero.jpg"
            }
        ];

        let cart = JSON.parse(localStorage.getItem('aoseCart')) || [];

        // --- 3. RENDER PRODUCTS ---
        function renderProducts(filter = 'all') {
            const container = document.getElementById('product-container');
            container.innerHTML = '';
            
            const filtered = filter === 'all' 
                ? products 
                : products.filter(p => p.category === filter);

            filtered.forEach(p => {
                container.innerHTML += `
                    <div class="product-card">
                        <div class="p-img-container">
                            <img src="${p.image}" alt="${p.name}" onerror="this.src='https://via.placeholder.com/300'">
                        </div>
                        <div class="p-details">
                            <div class="p-title">${p.name}</div>
                            <div class="p-price">₹${p.price}</div>
                            <button class="add-btn" onclick="addToCart(${p.id})">Add to Bag</button>
                        </div>
                    </div>
                `;
            });
        }

        // --- 4. CART LOGIC ---
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            saveCart();
            updateCartUI();
            toggleCart(true); // Open sidebar
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            saveCart();
            updateCartUI();
        }

        function saveCart() {
            localStorage.setItem('aoseCart', JSON.stringify(cart));
        }

        function updateCartUI() {
            document.getElementById('cart-count').innerText = cart.length;
            const container = document.getElementById('cart-items-container');
            container.innerHTML = '';
            
            let total = 0;
            cart.forEach((item, index) => {
                total += item.price;
                container.innerHTML += `
                    <div class="cart-item">
                        <img src="${item.image}" alt="item">
                        <div style="flex:1;">
                            <div style="font-weight:600; font-size:14px;">${item.name}</div>
                            <div style="color:var(--green);">₹${item.price}</div>
                        </div>
                        <i class="fas fa-trash" style="color:red; cursor:pointer;" onclick="removeFromCart(${index})"></i>
                    </div>
                `;
            });
            document.getElementById('cart-total').innerText = total;
        }

        function toggleCart(forceOpen = false) {
            const sidebar = document.getElementById('cart-sidebar');
            if (forceOpen) sidebar.classList.add('active');
            else sidebar.classList.toggle('active');
        }

        // --- 5. SEARCH LOGIC ---
        function searchProducts() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const container = document.getElementById('product-container');
            const filtered = products.filter(p => p.name.toLowerCase().includes(query));
            
            // Re-render manually for search
            container.innerHTML = '';
            filtered.forEach(p => {
                container.innerHTML += `
                    <div class="product-card">
                        <div class="p-img-container">
                            <img src="${p.image}">
                        </div>
                        <div class="p-details">
                            <div class="p-title">${p.name}</div>
                            <div class="p-price">₹${p.price}</div>
                            <button class="add-btn" onclick="addToCart(${p.id})">Add to Bag</button>
                        </div>
                    </div>
                `;
            });
        }

        function filterProducts(cat) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderProducts(cat);
        }

        // --- 6. CHECKOUT & QR GENERATION ---
        function openCheckout() {
            if(cart.length === 0) return alert("Your bag is empty!");
            toggleCart(false);
            document.getElementById('checkout-modal').style.display = 'flex';
            document.getElementById('checkout-step-1').style.display = 'block';
            document.getElementById('checkout-step-2').style.display = 'none';
        }

        function closeCheckout() {
            document.getElementById('checkout-modal').style.display = 'none';
        }

        function generatePayment() {
            const name = document.getElementById('cust-name').value;
            const phone = document.getElementById('cust-phone').value;
            const address = document.getElementById('cust-address').value;

            if(!name || !phone || !address) return alert("Please fill all details");

            const total = document.getElementById('cart-total').innerText;
            
            // Show Step 2
            document.getElementById('checkout-step-1').style.display = 'none';
            document.getElementById('checkout-step-2').style.display = 'block';
            document.getElementById('pay-amount').innerText = total;

            // Generate UPI QR Code
            // Format: upi://pay?pa=UPI_ID&pn=NAME&am=AMOUNT&cu=INR
            const upiLink = `upi://pay?pa=${UPI_ID}&pn=AOSEClothing&am=${total}&cu=INR`;
            
            document.getElementById("qrcode").innerHTML = ""; // Clear previous
            new QRCode(document.getElementById("qrcode"), {
                text: upiLink,
                width: 150,
                height: 150
            });
        }

        // --- 7. INVOICE & WHATSAPP ---
        async function finalizeOrder() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            const name = document.getElementById('cust-name').value;
            const phone = document.getElementById('cust-phone').value;
            const address = document.getElementById('cust-address').value;
            const total = document.getElementById('cart-total').innerText;
            const orderId = "ORD-" + Math.floor(Math.random() * 100000);

            // Create Invoice PDF
            doc.setFontSize(22);
            doc.text("AOSE CLOTHING", 20, 20);
            doc.setFontSize(12);
            doc.text("Timeless Elegance, Modern Legacy", 20, 30);
            
            doc.text(`Order ID: ${orderId}`, 20, 50);
            doc.text(`Customer: ${name}`, 20, 60);
            doc.text(`Phone: ${phone}`, 20, 70);
            doc.text(`Address: ${address}`, 20, 80);
            
            let y = 100;
            doc.text("Items:", 20, y);
            cart.forEach(item => {
                y += 10;
                doc.text(`- ${item.name} (Rs.${item.price})`, 20, y);
            });
            
            y += 20;
            doc.setFontSize(16);
            doc.text(`TOTAL PAID: Rs.${total}`, 20, y);

            doc.save(`AOSE_Invoice_${orderId}.pdf`);

            // Send to WhatsApp
            let itemsList = cart.map(i => i.name).join(", ");
            let msg = `*NEW ORDER ${orderId}*%0A%0A*Name:* ${name}%0A*Phone:* ${phone}%0A*Address:* ${address}%0A*Items:* ${itemsList}%0A*Total Paid:* ₹${total}%0A%0APlease verify payment and ship.`;
            
            window.open(`https://wa.me/${PHONE_NUMBER}?text=${msg}`, '_blank');
            
            // Reset
            cart = [];
            saveCart();
            window.location.reload();
        }

        // Initial Render
        renderProducts();
        updateCartUI();

    </script>
</body>
</html>
